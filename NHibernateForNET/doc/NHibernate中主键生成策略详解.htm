<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>NHibernate中主键生成策略详解. - chenkai - 博客园</title>
<link type="text/css" rel="stylesheet" href="http://common.cnblogs.com/blog/css/common.css?id=20130622"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="http://common.cnblogs.com/Skins/Minyx2_Lite/style.css?id=20130622"/>
<link type="text/css" rel="stylesheet" href="http://common.cnblogs.com/blog/css/common2.css"/>
<link type="text/css" rel="stylesheet" href="http://common.cnblogs.com/css/shStyle.css"/>
<link type="text/css" rel="stylesheet" href="http://www.cnblogs.com/chenkai/customcss.aspx?id=47263"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/chenkai/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/chenkai/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/chenkai/wlwmanifest.xml"/>
<script src="http://common.cnblogs.com/script/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">
var currentBlogApp = 'chenkai';
</script>
<script src="http://common.cnblogs.com/blog/script/common.js?id=20130622" type="text/javascript"></script> 
<script src="http://common.cnblogs.com/script/json2.js" type="text/javascript"></script>
<script src="http://common.cnblogs.com/Skins/Minyx2_Lite/script/skin.js" language="javascript" type="text/javascript"></script>
<script type="text/javascript" src="http://common.cnblogs.com/script/syntaxHighlighter.js"></script>
</head>
<body>
<a name="top"></a>
<!--PageBeginHtml Block Begin-->
<!-- JiaThis Button BEGIN -->
<script type="text/javascript" src="http://v1.jiathis.com/code/jiathis_r.js?btn=r3.gif" charset="utf-8"></script>
<!-- JiaThis Button END -->

<!-- Syntax Highlighter 3.0.83 START -->
<link type="text/css" rel="stylesheet" href="http://files0.cnitblog.com/chenkai/shCore.css"></link>
<link type="text/css" rel="stylesheet" href=http://files0.cnitblog.com/chenkai/shThemeDefault.css"></link>
<link type="text/css" rel="stylesheet" href=http://files0.cnitblog.com/chenkai/shCoreDefault.css"></link>


<script language="javascript" src="http://files0.cnitblog.com/chenkai/shCore.js"></script>
<script language="javascript" src="http://files0.cnitblog.com/chenkai/shBrushPython.js"></script>
<script language="javascript" src="http://files0.cnitblog.com/chenkai/shBrushCSharp.js"></script>

<script language="javascript">
window.onload = function() {
    dp.SyntaxHighlighter.ClipboardSwf = 'Scripts/clipboard.swf';
    dp.SyntaxHighlighter.HighlightAll('code');
};
 </script>
<!--PageBeginHtml Block End-->


<div id="container">
    <a class="minyx" href="http://www.spiga.com.mx/">Spiga</a>
    <ul id="topMnu">
        <!-- 统计数据 -->
        <li>
        
            
Posts - 218, 
Articles - 1, 
Comments - 2214
<!---->            
        
        </li>
        <!-- 这边可以增加一些链接 -->
        <!-- 博客园 -->
        <li><a href="http://www.cnblogs.com">Cnblogs</a></li>
        <!-- 管理 -->
        <li id="topMnu-dashboard"><a id="lnkDashboard" href="http://www.cnblogs.com/chenkai/admin/EditPosts.aspx">Dashboard</a></li>
        <li><a id="lnkLogin" href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http://www.cnblogs.com/chenkai/archive/2009/04/13/1434912.html">Login</a></li>
    </ul>
    
    <script language="javascript" type="text/javascript">
        var m = window.__blog.topMenuRendered;
        if (m) { m(__$("topMnu")); }
    </script>

    <div id="header">
        <ul id="menu">
                <!-- 首页，当前section加上current类 -->
                <li id="menu-home" class="current"><a id="lnkHome" href="http://www.cnblogs.com/chenkai/">Home</a></li>
                <!-- 联系 -->
                <li id="menu-contact"><a id="lnkContact" href="http://space.cnblogs.com/msg/send/chenkai">Contact</a></li>
                <!-- 相册 -->
                <li id="menu-gallary"><a id="lnkGallery" href="http://www.cnblogs.com/chenkai/gallery.html">Gallery</a></li>
                <!-- Rss订阅 -->
                <li id="rss"><a id="lnkRss" href="http://www.cnblogs.com/chenkai/rss">RSS</a></li>
        </ul>
	<div id="newmsg"></div>
        <h1>
            <!-- 主标题 -->
            <a id="lnkBlogTitle" href="http://www.cnblogs.com/chenkai/">乱世经典</a>
            <!-- 子标题 -->
            <small>day dream</small>
        </h1>
    </div>
    
    <script language="javascript" type="text/javascript">
        var m = window.__blog.headerRendered;
        if (m) { m(__$("header")); }
    </script>
        
    <div id="wrapper"> 
        <div id="content">
             <script language="javascript" type="text/javascript">
                        var m = window.__blog.preRenderPosts;
                        if (m) { m(); } 
            </script>
            
	
<div class="post" id="post"><a name="top"></a>
    <h2>
        <a id="ctl01_lnkTitle" href="http://www.cnblogs.com/chenkai/archive/2009/04/13/1434912.html">NHibernate中主键生成策略详解.</a></h2>
    <small>
        2009-04-13 17:16
        by
        chenkai,
        <span id="post_view_count">...</span>
        阅读,
        <span id="post-comment-count"><span id="post_comment_count">...</span></span>
        评论,
        <a href="#" onclick="PutInWz();return false;">收藏</a>,
        <a id="ctl01_lnkEdit" href="http://www.cnblogs.com/chenkai/admin/EditPosts.aspx?postid=1434912">编辑</a></small>
    <div class="entry">
        <div id="cnblogs_post_body"><p>最近一直在看NHibernate其中关于主键生成策略这块总是不太清楚,关于属性的定义过于模糊，出现一定异常发现处理方法很有限，下午利用一定时间在网上看了一定资料，决定来整理关于主键生成策略的完整的详细资料。因为学习NHibernate时间还不是太长，难免其中也许有一定纰漏，请大家谅解并指出。</p>
<p>看看格式:</p>
<div class="cnblogs_code"><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><span style="color: #000000">--</span><span style="color: #000000">在id字节中关于Generator中配置<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #000000">&lt;</span><span style="color: #000000">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">PropertyName</span><span style="color: #800000">"</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">typename</span><span style="color: #800000">"</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">column_name</span><span style="color: #800000">"</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsaved</span><span style="color: #000000">-</span><span style="color: #000000">value</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">any|none|null|id_value</span><span style="color: #800000">"</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">field|property|nosetter|ClassName</span><span style="color: #800000">"</span><span style="color: #000000">&gt;</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">&lt;</span><span style="color: #000000">generator&nbsp;</span><span style="color: #0000ff">class</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">generatorClass</span><span style="color: #800000">"</span><span style="color: #000000">/&gt;</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #000000">&lt;/</span><span style="color: #000000">id</span><span style="color: #000000">&gt;</span></div>
<p>其实在&lt;id&gt;配置节点中,&lt;generator&gt;子节点是可选的,属性class的是一个.NET类名称,用来为该持久化类生成一个唯一的标识,这个Class赋值有两种&#8212;</p>
<p>A:系统内置生成器的名称(很常用)&nbsp; B:自定义的类名称(这个自定义类实现了唯一标示)</p>
<p>B方法说明:</p>
<div class="cnblogs_code"><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><span style="color: #000000">B:方法一般很少用,系统内置生成器就够用了,如果定义的自定义类中,需要传入使用的参数<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />可用Param来传递参数&nbsp;&nbsp;具体实现如下:<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #000000">&lt;</span><span style="color: #000000">id&nbsp;name</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">Id</span><span style="color: #800000">"</span><span style="color: #000000">&nbsp;type</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">Int64</span><span style="color: #800000">"</span><span style="color: #000000">&nbsp;column</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">uid</span><span style="color: #800000">"</span><span style="color: #000000">&nbsp;unsaved</span><span style="color: #000000">-</span><span style="color: #000000">value</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">0</span><span style="color: #800000">"</span><span style="color: #000000">&gt;</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">&lt;</span><span style="color: #000000">generator&nbsp;</span><span style="color: #0000ff">class</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">NHibernate.Id.TableHiLoGenerator</span><span style="color: #800000">"</span><span style="color: #000000">&gt;</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">&lt;</span><span style="color: #000000">param&nbsp;name</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">table</span><span style="color: #800000">"</span><span style="color: #000000">&gt;</span><span style="color: #000000">uid_table</span><span style="color: #000000">&lt;/</span><span style="color: #000000">param</span><span style="color: #000000">&gt;</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">&lt;</span><span style="color: #000000">param&nbsp;name</span><span style="color: #000000">=</span><span style="color: #800000">"</span><span style="color: #800000">column</span><span style="color: #800000">"</span><span style="color: #000000">&gt;</span><span style="color: #000000">next_hi_value_column</span><span style="color: #000000">&lt;/</span><span style="color: #000000">param</span><span style="color: #000000">&gt;</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">&lt;/</span><span style="color: #000000">generator</span><span style="color: #000000">&gt;</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #000000">&lt;/</span><span style="color: #000000">id</span><span style="color: #000000">&gt;</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span></div>
<p>A方法说明:</p>
<p>A方法使用中，关于内置的生成器需要熟练掌握每个参数所执行动作，用来备查，具体的详细列表如下:</p>
<div class="cnblogs_code"><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><span style="color: #000000">--</span><span style="color: #000000">具体每个参数具体说明如下:可根据个人情况来使用<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />increment<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />用于为int类型生成&nbsp;唯一标识。只有在没有其他进程往同一张表中插入数据时才能使用。&nbsp;在集群下不要使用。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />identity<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />对DB2,MySQL,&nbsp;MS&nbsp;SQL&nbsp;Server,&nbsp;Sybase和HypersonicSQL的内置标识字段提供支持。数据库返回的主键值&nbsp;返回的标识符是int类型的。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />sequence<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />在DB2,PostgreSQL,&nbsp;Oracle,&nbsp;SAP&nbsp;DB,&nbsp;McKoi中使用序列（sequence)，&nbsp;而在Interbase中使用生成器(generator)。返回的标识符是int类型的。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />hilo<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />使用一个高</span><span style="color: #000000">/</span><span style="color: #000000">低位算法来高效的生成int类型的标识符。给定一个表和字段（默认分别是是hibernate_unique_key&nbsp;和next_hi）作为高位值得来源。&nbsp;高</span><span style="color: #000000">/</span><span style="color: #000000">低位算法生成的标识符只在一个特定的数据库中是唯一的。在用户自行提供的连接中，不要使用这种生成器。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />你可以使用where参数来指定表里面用了多少列数据，&nbsp;You&nbsp;can&nbsp;use&nbsp;the&nbsp;</span><span style="color: #800000">"</span><span style="color: #800000">where</span><span style="color: #800000">"</span><span style="color: #000000">&nbsp;parameter&nbsp;to&nbsp;specify&nbsp;the&nbsp;row&nbsp;to&nbsp;use&nbsp;</span><span style="color: #0000ff">in</span><span style="color: #000000">&nbsp;a&nbsp;table.&nbsp;This&nbsp;</span><span style="color: #0000ff">is</span><span style="color: #000000">&nbsp;useful&nbsp;</span><span style="color: #0000ff">if</span><span style="color: #000000">&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;a&nbsp;single&nbsp;tabel&nbsp;</span><span style="color: #0000ff">for</span><span style="color: #000000">&nbsp;your&nbsp;identifiers,&nbsp;with&nbsp;different&nbsp;rows&nbsp;</span><span style="color: #0000ff">for</span><span style="color: #000000">&nbsp;each&nbsp;table.&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />seqhilo<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />使用一个高</span><span style="color: #000000">/</span><span style="color: #000000">低位算法来高效的生成int类型的标识符，给定一个数据库序列（sequence)的名字。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />uuid.hex<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />用一个System.Guid的ToString()方法法生成字符串类型的标识符，&nbsp;字符串的长度由format参数定义。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />uuid.</span><span style="color: #0000ff">string</span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />用一个新的System.Guid实例的byte[]转化为字符串作为标示符。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />guid<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />使用新的System.Guid实例作为标示符。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />guid.comb<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />使用Jimmy&nbsp;Nilsson的算法（请参阅http:</span><span style="color: #008000">//</span><span style="color: #008000">www.informit.com/articles/article.asp?p=25862）生成一个新的System.Guid标示符。&nbsp;</span><span style="color: #008000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #000000"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />native<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />根据底层数据库的能力选择identity,&nbsp;sequence&nbsp;或者hilo中的一个。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />assigned<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />让应用程序在&nbsp;Save()之前为对象分配一个标示符。&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />foreign<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" />使用另外一个相关联的对象的标识符。通常和</span><span style="color: #000000">&lt;</span><span style="color: #000000">one</span><span style="color: #000000">-</span><span style="color: #000000">to</span><span style="color: #000000">-</span><span style="color: #000000">one</span><span style="color: #000000">&gt;</span><span style="color: #000000">联合起来使用。<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span></div>
<p>&nbsp;</p></div><div id="MySignature"></div>
        
<script type="text/javascript">
var isLogined = false;
var cb_blogId = 47263;
var cb_entryId = 1434912;
var cb_blogApp = currentBlogApp;
var cb_blogUserGuid = "63ff460b-63cf-dd11-9e4d-001cf0cd104b";
var cb_entryCreatedDate = '2009/4/13 17:16:00';
var enableGoogleAd = true;
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
</script>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>
<script type="text/javascript">
    //SyntaxHighlighter.config.strings.expandSource = '<span><img src="http://static.cnblogs.com/images/expand-code.gif" alt="" class="expand-code-icon"/>View Code</span>';
    $(function () {  
        loadViewCount(cb_entryId);
        fixPostBodyFormat();
        loadAdUnderPost();
        loadBlogSignature();
        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);        
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);        
    });
</script>
    </div>
    <span><script src="http://counter.cnblogs.com/blog/post/1434912" type="text/javascript"></script></span>
    <ul class="postmetadata">
        <li id="ctl01_liCate" class="icon_cat"><strong>Categories: </strong>
            <a href='http://www.cnblogs.com/chenkai/category/185422.html'>08.NHibernate</a>            
        </li>
        
        
    </ul>
</div>

<script language="javascript" type="text/javascript">
    var m = window.__blog.postRendered;
    if (m) { m(__$("post")); }
</script>

<script language="javascript" type="text/javascript">
    var m = window.__blog.postRenderPosts;
    if (m) { m(); }
</script><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"></div>

<script type="text/javascript">
    if (typeof commentManager === 'undefined') {
        commentManager = new blogCommentManager();
    }
    commentManager.loadCommentForm();   
</script>

<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.cnblogs.com/" target="_blank" title="程序员的网上家园">博客园首页</a><a href="http://q.cnblogs.com/" target="_blank" title="程序员问答社区">博问</a><a href="http://news.cnblogs.com/" target="_blank" title="IT新闻">新闻</a><a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a><a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a><a href="http://kb.cnblogs.com/" target="_blank">知识库</a></div>
<div id="ad_under_post_holder"></div>
<div id="HistoryToday" class="c_ad_block"></div>
</div>





        </div>
        
	    <script language="javascript" type="text/javascript">
	               var m = window.__blog.contentRendered;
	               if (m) { m(__$("content")); }
        </script>

	    <div id="sidebar">
			    

<div id="about">
    <div>
        <h2 id="about_title">
            About
        </h2>
        <div id="about_body">
        <div id="blog-news"></div>
        </div>
    </div>
</div>

			    <script language="javascript" type="text/javascript">
                        var m = window.__blog.aboutRendered;
                        if (m) { m(__$("about")); }
                </script>
                
<script type="text/javascript">
function zzk_go()
{
	var blogapp = 'chenkai';
	var keystr = encodeURIComponent("blog:"+blogapp+" "+document.getElementById('q').value);
    window.location = "http://zzk.cnblogs.com/s?w="+keystr;
}
function zzk_go_enter(event)
{
	if(event.keyCode == 13)
	{
	    zzk_go();
	    return false;
	}
}
</script>

<div id="mySearchWrapper">
    <div id="mySearch">
        <input type="image" src="/skins/Minyx2_Lite/images/btnsearch.gif" id="btnZzk"  class="submit" onclick="zzk_go();return false;"/>
        <label class="lb_search"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="keyword" /></label>
    </div>
</div>

                <script language="javascript" type="text/javascript">
                                var m = window.__blog.searchFormRendered;
                                if (m) { m(__$("searchform")); }
                </script>
                <div id="sideMain">
                </div>
                <div id="sideRight">
                </div>
                <div id="sideLeft">            
                </div>
			    
			    <div id="sideContainer">
                </div>
                <script language="javascript" type="text/javascript">
                    $.ajax({
                        url: '/' + currentBlogApp + '/mvc/blog/Minyx2_Lite_SideColumn.aspx',
                        data: '{}',
                        type: 'post',
                        dataType: 'text',
                        contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            if (data) {
                                $("#sideContainer").html(data);
                                if ($("#blog-calendar").length) {
                                    loadBlogCalendar();
                                }
                                loadBlogSideBlocks();
                                var m = window.__blog.sideContainerRendered;
                                if (m) { m(__$("sideContainer")); }
                                window.__blog.sidebar.__layout();
                            }
                        }
                    });
                    
                 </script>       	
			                      
 		    </div>
     		
	        <script language="javascript" type="text/javascript">
	        var m = window.__blog.sidebarRendered;
	        if (m) { m(__$("sidebar")); }
                </script>        
     </div>
     
        <script language="javascript" type="text/javascript">
            var m = window.__blog.wrapperRendered;
            if (m) { m(__$("wrapper")); }
        </script>

</div>
<!-- end of container -->
    
<script language="javascript" type="text/javascript">
    var m = window.__blog.containerRendered;
    if (m) { m(__$("container")); }
</script>

<div id="footer">
        
<p id="logoFoot">
    <a href="http://www.spiga.com.mx/" title="Agencia Interactiva Spiga">www.spiga.com.mx</a>
</p>
<div class="footText">
<p>
Copyright &copy;2013 chenkai
</p>
<p>
<a href="http://www.cnblogs.com">博客园</a>
</p>
</div>
</div><!--end: footer -->

<!--PageEndHtml Block Begin-->
<script type="text/javascript">
    var wumiiSitePrefix = "http://www.cnblogs.com/chenkai/";
    var wumiiParams = "&num=5&mode=3&pf=CNBLOGS";
</script>
<script type="text/javascript" src="http://widget.wumii.com/ext/relatedItemsWidget.htm"></script>
<a href="http://www.wumii.com/widget/relatedItems.htm" style="border:0;">
    <img src="http://static.wumii.com/images/pixel.png" alt="无觅相关文章插件，快速提升流量" style="border:0;padding:0;margin:0;" />
</a>
<!--PageEndHtml Block End-->
<script type="text/javascript" src="http://common.cnblogs.com/script/google-analytics.js"></script>
</body>
</html>
